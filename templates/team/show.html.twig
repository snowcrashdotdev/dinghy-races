{% extends 'base.html.twig' %}

{% block title %}{{team.tournament.title}} - Team Stats: {{team.name}}{% endblock %}

{% block body %}
<header>
    <h1>{{team.name}}<br>
        <small>as seen in 
            <a class="tournament-title" href="{{path('tournament_show', {'id': team.tournament.id})}}">{{ team.tournament.title }}</a>
        </small>
    </h1>
</header>

<main class="flex">
{% if not team.tournament.upcoming %}
    <section class="gadget-group">
        {{
            include('_gadgets/points.per.game.html.twig', {
                'scores': points_per_game,
                'tournament': team.tournament,
                'total': team.points
            })
        }}
    </section>
{% endif %}

{% if team.members|length %}
    <div class="flex-1">
    <h3 class="page-break">Roster</h3>
    <section class="summary-group">
        {% for user in team.members %}
            {{
                include('profile/_summary.html.twig', {
                    'user': user
                })
            }}
        {% endfor %}
    </section>
{% else %}
    <p>No team members selected.</p>
{% endif %}
    </div>
</main>
{% endblock %}

{% block navigation %}
    {% if is_granted("ROLE_TO") %}
        {% set href = path('team_edit', {
            'id': team.id
        }) %}
        <a class="nav-item" href="{{href}}">✏️<span class="nav-item-label">Edit</a>
    {% endif %}
{% endblock %}
